import{u as U,r as b,c as A,m as g,n as a,p as l,q as R,v as e,C as c,f as i,Q as u,B as n,A as d,J as O,y as v,F as D,E as Y,K as J,x as f,z as $,N as h}from"./index-CUBQy48D.js";import{Q as K}from"./QSpace-DzDBJKf7.js";import{Q as W}from"./QImg-B8fmnvHW.js";import{Q as Z}from"./QChip-FfYl9lOC.js";import{Q as G}from"./QTooltip-D_vE3Fzw.js";import{Q as q}from"./QCardSection-DxIQyhwE.js";import{Q as k}from"./QCard-DZMDY_Ca.js";import{Q as w}from"./QSeparator-es0GegHz.js";import{Q as H}from"./QInput-SjOosiTB.js";import{Q as X}from"./QPage-DqzRJpM6.js";import{_ as tt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-timeout-sN3gBUuD.js";import"./use-dark-yr8oZmB6.js";import"./position-engine-BHw6Gt0E.js";import"./focus-manager-BJWzFvJg.js";const et={class:"constrain q-pa-md"},ot={class:"row items-center q-mb-lg"},st={class:"text-body2 text-grey-7"},it={key:0,class:"text-center q-pa-xl"},rt={key:1,class:"text-center q-pa-xl"},dt={key:2,class:"row q-col-gutter-lg"},at={class:"col-12 col-lg-8"},nt={class:"row q-col-gutter-md"},lt={class:"col-auto"},ct={class:"col"},ut={class:"row items-start justify-between"},pt={class:"col"},mt=["onClick"],yt={class:"text-caption text-grey-7 q-mb-sm"},vt={class:"text-body2 text-primary text-weight-bold q-mb-sm"},xt={class:"col-auto"},gt={class:"row items-center justify-between q-mt-md"},_t={class:"row items-center q-gutter-sm"},bt={class:"quantity-display-large"},ft={class:"text-h6 text-primary text-weight-bold"},ht={class:"col-12 col-lg-4"},qt={class:"row items-center justify-between q-mb-sm"},kt={class:"text-body1 text-weight-medium"},wt={class:"row items-center justify-between q-mb-sm"},Ct={class:"text-body1 text-weight-medium"},Qt={key:0},It={key:1},St={class:"q-mb-md"},$t={class:"row q-col-gutter-xs"},Pt={class:"col"},zt={class:"col-auto"},Lt={key:0,class:"text-caption text-positive q-mt-xs"},Tt={key:0,class:"row items-center justify-between q-mb-sm"},Et={class:"text-body1 text-weight-medium text-positive"},Ft={class:"row items-center justify-between q-mb-md"},jt={class:"text-h5 text-primary text-weight-bold"},Vt={class:"row items-center justify-center q-mt-md q-gutter-xs"},Bt={class:"text-center"},Nt={class:"row items-center justify-center q-gutter-md"},Mt={class:"text-center"},Ut={class:"text-center"},At={class:"text-center"},Rt={__name:"IndexPage",setup(Ot){const C=R(),r=U(),m=b(""),p=b(""),y=b(0),P=A(()=>r.cartTotal>=50?0:5),z=o=>o.product?.primary_image||o.product?.image||o.product?.image_url||o.product?.thumbnail||"https://via.placeholder.com/200",Q=o=>o.product?.name||o.product?.title||"Product",L=o=>o.product?.brand||o.product?.manufacturer||"ProudlyZimmart",_=o=>o.product?.in_stock!==void 0?o.product.in_stock:o.product?.inStock!==void 0?o.product.inStock:o.product?.stock_quantity!==void 0?o.product.stock_quantity>0:null,T=o=>`$${(o.price||o.product?.current_price_usd||o.product?.price_usd||o.product?.price||0).toFixed(2)}`,E=o=>{const t=o.price||o.product?.current_price_usd||o.product?.price_usd||o.product?.price||0,s=o.quantity||1;return`$${(t*s).toFixed(2)}`},F=async o=>{const t=o.product_id||o.product?.id;t&&await r.updateItemQuantity(t,(o.quantity||1)+1)},j=async o=>{const t=o.product_id||o.product?.id;if(t){const s=Math.max(1,(o.quantity||1)-1);await r.updateItemQuantity(t,s)}},V=async o=>{const t=o.product_id||o.product?.id;t&&await r.removeItem(t)},I=o=>{const t=o.product_id||o.product?.id;t&&C.push(`/product/${t}`)},B=()=>{const o={SAVE10:.1,WELCOME20:.2,SUMMER15:.15},t=m.value.toUpperCase();o[t]?(p.value=t,y.value=r.cartTotal*o[t],h.create({type:"positive",message:`Promo code "${t}" applied successfully!`,position:"top"})):h.create({type:"negative",message:"Invalid promo code. Please try again.",position:"top"})},N=()=>{p.value="",y.value=0,m.value="",h.create({type:"info",message:"Promo code removed",position:"top"})},M=()=>{C.push("/checkout")};return(o,t)=>(a(),g(X,{class:"bg-grey-1"},{default:l(()=>[e("div",et,[e("div",ot,[i(u,{flat:"",dense:"",icon:"arrow_back",onClick:t[0]||(t[0]=s=>o.$router.back()),class:"q-mr-sm"}),t[4]||(t[4]=e("div",{class:"text-h5 text-weight-bold"},"Shopping Cart",-1)),i(K),e("div",st,n(d(r).itemCount)+" "+n(d(r).itemCount===1?"item":"items"),1)]),d(r).isLoading?(a(),c("div",it,[i(O,{color:"primary",size:"3em"}),t[5]||(t[5]=e("div",{class:"text-body2 text-grey-7 q-mt-md"},"Updating cart...",-1))])):d(r).isEmpty?(a(),c("div",rt,[i(v,{name:"shopping_cart",size:"120px",color:"grey-4"}),t[6]||(t[6]=e("div",{class:"text-h5 text-grey-6 q-mt-lg"},"Your cart is empty",-1)),t[7]||(t[7]=e("div",{class:"text-body1 text-grey-7 q-mt-sm q-mb-lg"}," Looks like you haven't added anything to your cart yet ",-1)),i(u,{unelevated:"",color:"primary",label:"Continue Shopping",size:"lg",icon:"shopping_bag","no-caps":"",onClick:t[1]||(t[1]=s=>o.$router.push("/"))})])):(a(),c("div",dt,[e("div",at,[i(k,{flat:"",bordered:"",class:"q-mb-md"},{default:l(()=>[i(q,null,{default:l(()=>[t[10]||(t[10]=e("div",{class:"text-h6 text-weight-bold q-mb-md"},"Cart Items",-1)),(a(!0),c(D,null,Y(d(r).cartItems,(s,S)=>(a(),c("div",{key:s.product_id||s.product?.id,class:J(["cart-item-row",{"q-mb-md":S<d(r).cartItems.length-1}])},[e("div",nt,[e("div",lt,[i(W,{src:z(s),alt:Q(s),ratio:"1",class:"cart-page-image",style:{width:"120px",height:"120px","border-radius":"8px"},onClick:x=>I(s)},null,8,["src","alt","onClick"])]),e("div",ct,[e("div",ut,[e("div",pt,[e("div",{class:"text-body1 text-weight-medium q-mb-xs cursor-pointer",style:{"line-height":"1.4"},onClick:x=>I(s)},n(Q(s)),9,mt),e("div",yt,n(L(s)),1),e("div",vt,n(T(s)),1),_(s)!==null?(a(),g(Z,{key:0,dense:"",color:_(s)?"green":"red","text-color":"white",size:"sm"},{default:l(()=>[$(n(_(s)?"In Stock":"Out of Stock"),1)]),_:2},1032,["color"])):f("",!0)]),e("div",xt,[i(u,{round:"",flat:"",dense:"",icon:"close",color:"grey-7",size:"sm",disable:d(r).isLoading,onClick:x=>V(s)},{default:l(()=>[i(G,null,{default:l(()=>[...t[8]||(t[8]=[$("Remove from cart",-1)])]),_:1})]),_:1},8,["disable","onClick"])])]),e("div",gt,[e("div",_t,[t[9]||(t[9]=e("span",{class:"text-caption text-grey-7"},"Quantity:",-1)),i(u,{round:"",dense:"",flat:"",icon:"remove",color:"grey-7",class:"quantity-control-btn",disable:d(r).isLoading||(s.quantity||1)<=1,onClick:x=>j(s)},null,8,["disable","onClick"]),e("div",bt,n(s.quantity||1),1),i(u,{round:"",dense:"",flat:"",icon:"add",color:"primary",class:"quantity-control-btn",disable:d(r).isLoading,onClick:x=>F(s)},null,8,["disable","onClick"])]),e("div",ft,n(E(s)),1)])])])],2))),128))]),_:1})]),_:1}),i(u,{outline:"",color:"primary",label:"Continue Shopping",icon:"arrow_back",class:"full-width",size:"md","no-caps":"",onClick:t[2]||(t[2]=s=>o.$router.push("/"))})]),e("div",ht,[i(k,{flat:"",bordered:"",class:"sticky-summary"},{default:l(()=>[i(q,null,{default:l(()=>[t[20]||(t[20]=e("div",{class:"text-h6 text-weight-bold q-mb-md"},"Order Summary",-1)),e("div",qt,[t[11]||(t[11]=e("div",{class:"text-body2 text-grey-7"},"Subtotal",-1)),e("div",kt," $"+n(d(r).cartTotal.toFixed(2)),1)]),e("div",wt,[t[12]||(t[12]=e("div",{class:"text-body2 text-grey-7"},"Shipping",-1)),e("div",Ct,[d(r).cartTotal>=50?(a(),c("span",Qt,"Free")):(a(),c("span",It,"$5.00"))])]),i(w,{class:"q-my-md"}),e("div",St,[t[13]||(t[13]=e("div",{class:"text-body2 text-weight-medium q-mb-xs"},"Promo Code",-1)),e("div",$t,[e("div",Pt,[i(H,{modelValue:m.value,"onUpdate:modelValue":t[3]||(t[3]=s=>m.value=s),dense:"",outlined:"",placeholder:"Enter code",disable:d(r).isLoading||!!p.value},null,8,["modelValue","disable"])]),e("div",zt,[p.value?(a(),g(u,{key:1,flat:"",dense:"",icon:"close",color:"negative",onClick:N})):(a(),g(u,{key:0,unelevated:"",color:"primary",label:"Apply",dense:"",disable:!m.value||d(r).isLoading,onClick:B},null,8,["disable"]))])]),p.value?(a(),c("div",Lt," Promo code applied: "+n(p.value),1)):f("",!0)]),y.value>0?(a(),c("div",Tt,[t[14]||(t[14]=e("div",{class:"text-body2 text-positive"},"Discount",-1)),e("div",Et," -$"+n(y.value.toFixed(2)),1)])):f("",!0),i(w,{class:"q-my-md"}),e("div",Ft,[t[15]||(t[15]=e("div",{class:"text-h6 text-weight-bold"},"Total",-1)),e("div",jt," $"+n((d(r).cartTotal+P.value-y.value).toFixed(2)),1)]),i(u,{unelevated:"",color:"primary",label:"Proceed to Checkout",class:"full-width",size:"lg","no-caps":"",loading:d(r).isLoading,onClick:M},null,8,["loading"]),e("div",Vt,[i(v,{name:"lock",color:"positive",size:"sm"}),t[16]||(t[16]=e("div",{class:"text-caption text-grey-7"},"Secure checkout",-1))]),i(w,{class:"q-my-md"}),e("div",Bt,[e("div",Nt,[e("div",Mt,[i(v,{name:"local_shipping",color:"primary",size:"md"}),t[17]||(t[17]=e("div",{class:"text-caption text-primary text-weight-medium q-mt-xs"},"Free shipping over $50",-1))]),e("div",Ut,[i(v,{name:"refresh",color:"primary",size:"md"}),t[18]||(t[18]=e("div",{class:"text-caption text-primary text-weight-medium q-mt-xs"},"Easy returns",-1))]),e("div",At,[i(v,{name:"verified",color:"primary",size:"md"}),t[19]||(t[19]=e("div",{class:"text-caption text-primary text-weight-medium q-mt-xs"},"Secure payment",-1))])])])]),_:1})]),_:1}),i(k,{flat:"",bordered:"",class:"q-mt-md"},{default:l(()=>[i(q,null,{default:l(()=>[...t[21]||(t[21]=[e("div",{class:"text-body1 text-weight-medium q-mb-md"},"You May Also Like",-1),e("div",{class:"text-caption text-grey-7 text-center q-pa-md"}," Recommended products will appear here ",-1)])]),_:1})]),_:1})])]))])]),_:1}))}},de=tt(Rt,[["__scopeId","data-v-cf9ce35a"]]);export{de as default};
