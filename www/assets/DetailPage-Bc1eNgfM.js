import{G as X,u as ee,r as h,c as d,w as te,o as oe,I as ae,m as x,n as o,p as m,q as se,v as a,f as r,C as s,x as c,Q as v,A,J as le,y as k,F as C,E as Q,K as ie,B as u,z as re}from"./index-Btp_LviN.js";import{Q as S}from"./QImg-BeS8y-QW.js";import{Q as w}from"./QCard-eEP12_XI.js";import{Q as M}from"./QSeparator-DUdd4515.js";import{Q as ne}from"./QChip-BdcSrHRA.js";import{Q as ce,a as R}from"./QItem-DG9taRDR.js";import{Q as ue}from"./QItemLabel-CCPjO0CN.js";import{Q as de}from"./QList-4uq_FW4h.js";import{Q as me}from"./QCardSection-DYSmIbuQ.js";import{Q as ve}from"./QPage-M0-PEYmf.js";import{_ as pe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-timeout-BaxCR_yz.js";import"./use-dark-COX_BI4o.js";const ye={class:"constrain q-pa-xs q-pt-sm"},_e={key:0,class:"text-center q-pa-xl"},ge={key:1,class:"text-center q-pa-xl"},be={key:2,class:"row q-col-gutter-sm"},fe={class:"col-12 col-md-6"},he={class:"row q-col-gutter-sm q-mt-sm"},xe={class:"col-12 col-md-6"},ke={class:"text-caption text-grey-7 q-mb-xs"},qe={class:"text-h6 text-weight-bold q-mb-xs"},we={class:"q-mb-sm"},Ce={class:"row items-center q-gutter-xs"},Qe={class:"text-caption text-weight-medium"},Se={class:"text-caption text-grey-7"},Ie={key:0,class:"row items-center q-gutter-xs q-mb-sm"},ze={key:0,class:"row items-center"},De={class:"text-caption q-ml-xs"},Pe={key:2,class:"text-caption text-grey-7"},$e={key:4,class:"text-caption text-grey-7"},Be={class:"row items-center q-gutter-xs q-mb-sm"},Le={key:0,class:"text-h6 text-primary text-weight-bold"},Ee={key:1,class:"text-body2 text-grey-7"},Fe={key:2,class:"text-body2 text-grey-6 text-strike"},Ne={class:"q-mb-sm"},Te={class:"text-body2 text-grey-8"},Ae={class:"q-mb-sm"},Me={key:1,class:"q-mb-sm"},Re={class:"row items-center q-gutter-xs"},Oe={class:"text-body1"},Ge={class:"row q-col-gutter-xs q-mb-sm"},He={key:0,class:"col-12"},Ve={key:1,class:"col-12"},We={key:2,class:"col-12"},Ke={key:3,class:"col-12"},Ze={key:4,class:"col-12 col-sm-6"},je={class:"row items-center q-gutter-sm"},Je={class:"text-caption text-weight-medium"},Ue={key:0},Ye={key:1},Xe={key:2},et={key:3},tt={class:"text-caption text-grey-7"},ot={key:0},at={key:1},st={key:2},lt={key:3},it={class:"q-mt-lg"},rt={class:"row q-col-gutter-xs"},nt={class:"text-caption text-grey-7 q-mb-xs product-brand"},ct={class:"text-caption text-weight-medium q-mb-xs product-title"},ut={key:0,class:"text-body2 text-primary text-weight-bold"},dt={key:1,class:"text-caption text-grey-7"},mt={__name:"DetailPage",setup(vt){const I=ae(),O=se(),_=X(),G=ee(),g=h(1),z=h(0),e=h(null),D=h([]),P=h([]),$=d(()=>e.value?.name||e.value?.title||"Product"),H=d(()=>e.value?.brand||e.value?.manufacturer||"ProudlyZimmart"),B=d(()=>e.value?.primary_image||e.value?.image||e.value?.image_url||e.value?.thumbnail||"https://via.placeholder.com/800"),V=d(()=>e.value?.description||e.value?.short_description||e.value?.details||"No description available."),L=d(()=>e.value?.current_price_usd||e.value?.price_usd||e.value?.price||null),E=d(()=>e.value?.sale_price_usd||e.value?.original_price||e.value?.originalPrice||null),F=d(()=>e.value?.discount_percentage||e.value?.discount||null),b=d(()=>e.value?.rating||e.value?.average_rating||null),f=d(()=>e.value?.reviews_count||e.value?.reviews||null),q=d(()=>e.value?.in_stock!==void 0?e.value.in_stock:e.value?.inStock!==void 0?e.value.inStock:e.value?.stock_quantity!==void 0?e.value.stock_quantity>0:null),n=l=>l?l.product_type&&typeof l.product_type=="object"?l.product_type.type||l.product_type.name||"ready_to_buy":l.product_type||l.productType||"ready_to_buy":"ready_to_buy",y=l=>{const t={ready_to_buy:{label:"Ready",color:"positive",icon:"check_circle",description:"Ready to ship instantly"},collect:{label:"Collect",color:"accent",icon:"store",description:"We collect from manufacturer when you order"},enquire:{label:"Enquire",color:"info",icon:"mail",description:"Inquire about price, quantity and availability"},promotional:{label:"Promo",color:"secondary",icon:"campaign",description:"Promotional product - not sold online"}};return t[l]||t.ready_to_buy},W=d(()=>{if(!e.value)return[];const l=e.value.category||e.value.category_name||e.value.category_slug;return _.products.filter(t=>(t.category||t.category_name||t.category_slug)===l&&t.id!==e.value.id).slice(0,4)});te(()=>I.params.id,async l=>{l&&await N(parseInt(l))},{immediate:!1});const N=async l=>{try{let t=_.getProductById(l);if(t||(await _.fetchProductDetails(l),t=_.getProductById(l)),e.value=t,e.value){const i=B.value;D.value=[i,i.replace("w=800","w=400").replace("w=500","w=400"),i.replace("w=800","w=600").replace("w=500","w=600"),i.replace("w=800","w=500")];const p=e.value.category||e.value.category_name||e.value.category_slug||"default",T={fashion:["Premium quality materials","Comfortable fit","Durable construction","Stylish design"],electronics:["Latest technology","Long battery life","High-quality sound","Easy to use"],"home-living":["Sustainable materials","Easy to assemble","Modern design","Durable construction"],beauty:["Natural ingredients","Suitable for all skin types","Cruelty-free","Long-lasting"],sports:["Professional grade","Durable materials","Official size and weight","High performance"],books:["Best-selling collection","High-quality printing","Durable binding","Great value"],toys:["Educational value","Safe materials","Durable construction","Age-appropriate"],automotive:["Universal compatibility","Strong grip","Easy installation","Durable materials"]};P.value=T[p]||["High quality","Great value","Durable","Customer favorite"]}}catch(t){console.error("Error loading product:",t),e.value=null}};oe(async()=>{const l=parseInt(I.params.id);l&&await N(l)});const K=l=>{O.push(`/product/${l}`)},Z=async()=>{if(e.value)try{const l=e.value.id;await G.addItem(l,g.value,e.value)}catch(l){console.error("Error adding to cart:",l)}},j=()=>{console.log("Order to collect:",e.value.id,"Quantity:",g.value)},J=()=>{console.log("Enquire product:",e.value.id)},U=()=>{console.log("Learn more:",e.value.id)},Y=()=>{console.log("Add to wishlist:",e.value.id)};return(l,t)=>(o(),x(ve,{class:"bg-white"},{default:m(()=>[a("div",ye,[r(v,{flat:"",dense:"",size:"sm",icon:"arrow_back",label:"Back",color:"primary",class:"q-mb-sm text-caption",onClick:t[0]||(t[0]=i=>l.$router.back())}),A(_).isLoadingDetails?(o(),s("div",_e,[r(le,{color:"primary",size:"3em"}),t[4]||(t[4]=a("div",{class:"text-body2 text-grey-7 q-mt-md"},"Loading product details...",-1))])):!e.value&&!A(_).isLoadingDetails?(o(),s("div",ge,[r(k,{name:"inventory_2",size:"64px",color:"grey-5"}),t[5]||(t[5]=a("div",{class:"text-h6 text-grey-6 q-mt-md"},"Product not found",-1)),t[6]||(t[6]=a("div",{class:"text-body2 text-grey-7 q-mt-sm"},"The product you're looking for doesn't exist",-1)),r(v,{unelevated:"",color:"primary",label:"Go Back",icon:"arrow_back",class:"q-mt-md",onClick:t[1]||(t[1]=i=>l.$router.back())})])):e.value?(o(),s("div",be,[a("div",fe,[r(w,{flat:"",bordered:"",class:"product-image-card"},{default:m(()=>[r(S,{src:B.value,alt:$.value,ratio:"1",class:"product-main-image"},null,8,["src","alt"])]),_:1}),a("div",he,[(o(!0),s(C,null,Q(D.value,(i,p)=>(o(),s("div",{key:p,class:"col-3"},[r(S,{src:i,ratio:"1",class:ie(["thumbnail-image cursor-pointer",{"thumbnail-active":z.value===p}]),onClick:T=>z.value=p},null,8,["src","class","onClick"])]))),128))])]),a("div",xe,[a("div",ke,u(H.value),1),a("div",qe,u($.value),1),a("div",we,[r(w,{flat:"",bordered:"",class:"q-pa-xs bg-grey-2"},{default:m(()=>[a("div",Ce,[r(k,{name:y(n(e.value)).icon,color:y(n(e.value)).color,size:"sm"},null,8,["name","color"]),a("div",null,[a("div",Qe,u(y(n(e.value)).label)+" Product",1),a("div",Se,u(y(n(e.value)).description),1)])])]),_:1})]),b.value||f.value?(o(),s("div",Ie,[b.value?(o(),s("div",ze,[r(k,{name:"star",color:"amber",size:"xs"}),a("span",De,u(b.value),1)])):c("",!0),b.value&&f.value?(o(),x(M,{key:1,vertical:""})):c("",!0),f.value?(o(),s("div",Pe,u(f.value)+" reviews ",1)):c("",!0),(b.value||f.value)&&q.value?(o(),x(M,{key:3,vertical:""})):c("",!0),q.value!==null&&q.value!==void 0?(o(),s("div",$e,u(q.value?"In Stock":"Out of Stock"),1)):c("",!0)])):c("",!0),a("div",Be,[L.value?(o(),s("div",Le," $"+u(parseFloat(L.value).toFixed(2)),1)):n(e.value)==="enquire"||n(e.value)==="promotional"?(o(),s("div",Ee," Price on enquiry ")):c("",!0),E.value?(o(),s("div",Fe," $"+u(parseFloat(E.value).toFixed(2)),1)):c("",!0),F.value?(o(),x(ne,{key:3,dense:"",size:"sm",color:"negative","text-color":"white",label:`Save ${F.value}%`},null,8,["label"])):c("",!0)]),a("div",Ne,[t[7]||(t[7]=a("div",{class:"text-caption text-weight-medium q-mb-xs"},"Description",-1)),a("div",Te,u(V.value),1)]),a("div",Ae,[t[8]||(t[8]=a("div",{class:"text-caption text-weight-medium q-mb-xs"},"Key Features",-1)),r(de,{dense:"",class:"q-pa-none"},{default:m(()=>[(o(!0),s(C,null,Q(P.value,(i,p)=>(o(),x(ce,{key:p,class:"q-pa-none q-mb-xs",dense:""},{default:m(()=>[r(R,{avatar:"",class:"q-pr-xs"},{default:m(()=>[r(k,{name:"check_circle",color:"primary",size:"xs"})]),_:1}),r(R,null,{default:m(()=>[r(ue,{class:"text-caption"},{default:m(()=>[re(u(i),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),n(e.value)==="ready_to_buy"||n(e.value)==="collect"?(o(),s("div",Me,[t[9]||(t[9]=a("div",{class:"text-caption text-weight-medium q-mb-xs"},"Quantity",-1)),a("div",Re,[r(v,{round:"",dense:"",flat:"",size:"sm",icon:"remove",onClick:t[2]||(t[2]=i=>g.value>1?g.value--:null)}),a("div",Oe,u(g.value),1),r(v,{round:"",dense:"",flat:"",size:"sm",icon:"add",onClick:t[3]||(t[3]=i=>g.value++)})])])):c("",!0),a("div",Ge,[n(e.value)==="ready_to_buy"?(o(),s("div",He,[r(v,{unelevated:"",color:"primary",label:"Add to Cart",icon:"shopping_cart",class:"full-width",size:"md","no-caps":"",dense:"",onClick:Z})])):n(e.value)==="collect"?(o(),s("div",Ve,[r(v,{unelevated:"",color:"accent",label:"Order to Collect",icon:"store",class:"full-width",size:"md","no-caps":"",dense:"",onClick:j})])):n(e.value)==="enquire"?(o(),s("div",We,[r(v,{unelevated:"",color:"info",label:"Enquire Now",icon:"mail",class:"full-width",size:"md","no-caps":"",dense:"",onClick:J})])):n(e.value)==="promotional"?(o(),s("div",Ke,[r(v,{unelevated:"",color:"secondary",label:"Learn More",icon:"info",class:"full-width",size:"md","no-caps":"",dense:"",onClick:U})])):c("",!0),n(e.value)!=="promotional"?(o(),s("div",Ze,[r(v,{outline:"",color:"primary",label:"Add to Wishlist",icon:"favorite_border",class:"full-width",size:"md","no-caps":"",dense:"",onClick:Y})])):c("",!0)]),r(w,{flat:"",bordered:"",class:"q-pa-sm bg-grey-2"},{default:m(()=>[a("div",je,[r(k,{name:y(n(e.value)).icon==="store"?"store":y(n(e.value)).icon==="mail"?"mail":"local_shipping",color:y(n(e.value)).color,size:"sm"},null,8,["name","color"]),a("div",null,[a("div",Je,[n(e.value)==="ready_to_buy"?(o(),s("span",Ue,"Free Shipping")):n(e.value)==="collect"?(o(),s("span",Ye,"Collect from Store")):n(e.value)==="enquire"?(o(),s("span",Xe,"Contact for Details")):n(e.value)==="promotional"?(o(),s("span",et,"Promotional Product")):c("",!0)]),a("div",tt,[n(e.value)==="ready_to_buy"?(o(),s("span",ot,"Delivery within 3-5 business days")):n(e.value)==="collect"?(o(),s("span",at,"We collect from manufacturer when you order")):n(e.value)==="enquire"?(o(),s("span",st,"Inquire about price, quantity and availability")):n(e.value)==="promotional"?(o(),s("span",lt,"Not sold online or offline - promotional only")):c("",!0)])])])]),_:1})])])):c("",!0),a("div",it,[t[10]||(t[10]=a("div",{class:"text-subtitle1 text-weight-bold q-mb-sm"},"You May Also Like",-1)),a("div",rt,[(o(!0),s(C,null,Q(W.value,i=>(o(),s("div",{key:i.id,class:"col-6 col-sm-4 col-md-3"},[r(w,{class:"product-card cursor-pointer",flat:"",bordered:"",onClick:p=>K(i.id)},{default:m(()=>[r(S,{src:i.image||i.image_url||i.thumbnail||"https://via.placeholder.com/500",alt:i.name||i.title,ratio:"1",class:"product-image"},null,8,["src","alt"]),r(me,{class:"q-pa-xs"},{default:m(()=>[a("div",nt,u(i.brand||i.manufacturer||"ProudlyZimmart"),1),a("div",ct,u(i.name||i.title),1),i.price?(o(),s("div",ut," $"+u(parseFloat(i.price).toFixed(2)),1)):(o(),s("div",dt," Price on enquiry "))]),_:2},1024)]),_:2},1032,["onClick"])]))),128))])])])]),_:1}))}},St=pe(mt,[["__scopeId","data-v-d55e829a"]]);export{St as default};
