import{Q as c}from"./QSeparator-DUdd4515.js";import{o as x,r as f,c as w,m as k,n as _,p as r,Z as P,q as N,t as z,v as o,f as a,y as n,z as h,B as R,Q as S,K as L,_ as D,N as y}from"./index-Btp_LviN.js";import{Q as d}from"./QInput-BmIudfcp.js";import{Q as A}from"./QForm-Cgr1mS7P.js";import{Q as B}from"./QCard-eEP12_XI.js";import{Q as C}from"./QPage-M0-PEYmf.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./use-dark-COX_BI4o.js";import"./focus-manager-BJWzFvJg.js";const E={class:"full-width q-pa-md"},I={class:"row justify-center"},T={class:"col-12 col-md-10 col-lg-8"},F={class:"row q-col-gutter-md"},$={class:"col-12 col-sm-6"},O={class:"col-12 col-sm-6"},j={class:"row q-col-gutter-md"},M={class:"col-12 col-sm-6"},Z={class:"col-12 col-sm-6"},W={class:"row q-col-gutter-md"},H={class:"col-12 col-sm-6"},J={class:"col-12 col-sm-6"},K={class:"row q-col-gutter-md"},G={class:"col-12 col-sm-6"},X={class:"col-12 col-sm-6"},Y={class:"text-center q-mt-lg"},ee={__name:"IndexPage",setup(le){const V=N(),g=()=>{P(()=>{document.querySelectorAll(".q-field__label").forEach(l=>{if(l.textContent&&l.textContent.includes("*")){const u=l.innerHTML;u&&u.includes("*")&&!u.includes("required-asterisk")&&(l.innerHTML=u.replace(/\*/g,'<span class="required-asterisk">*</span>'))}})})};x(()=>{g();const s=new MutationObserver(()=>{g()}),l=document.querySelector(".q-form");l&&s.observe(l,{childList:!0,subtree:!0,characterData:!0})});const t=f({name:"",email:"",phone:"",businessName:"",shortDescription:"",description:"",address:"",city:"",province:null,country:null,website:"",facebookUrl:"",instagramUrl:"",twitterUrl:"",linkedinUrl:"",additionalNotes:""}),b=f(!1),i=w(()=>b.value),U=s=>{if(!s)return!1;const l=s.replace(/[\s\-().]/g,"");if(l.startsWith("+")){const u=l.substring(1);return/^\d{1,15}$/.test(u)}return/^\d{7,15}$/.test(l)},p=s=>{if(!s)return!0;try{return new URL(s),!0}catch{return!1}},q=async()=>{try{b.value=!0;const s={name:t.value.businessName,email:t.value.email,phone:t.value.phone,description:t.value.description,address:t.value.address,city:t.value.city,province:t.value.province,country:t.value.country};t.value.shortDescription&&(s.short_description=t.value.shortDescription),t.value.website&&(s.website=t.value.website),t.value.facebookUrl&&(s.facebook_url=t.value.facebookUrl),t.value.instagramUrl&&(s.instagram_url=t.value.instagramUrl),t.value.twitterUrl&&(s.twitter_url=t.value.twitterUrl),t.value.linkedinUrl&&(s.linkedin_url=t.value.linkedinUrl),t.value.additionalNotes&&(s.description.includes(t.value.additionalNotes)||(s.description+=`

Additional Notes: ${t.value.additionalNotes}`)),console.log("=== Sell on ProudlyZimmart Form Submission ==="),console.log("Payload being sent to backend:",JSON.stringify(s,null,2)),console.log("Form Data Object:",t.value),console.log("==============================================");let l="https://proudlyzimmart.com";l.endsWith("/")||(l+="/");const u=`${l}api/manufacturers/submissions/`;console.log("Sending POST request to:",u);const e=D.create({baseURL:l,headers:{"Content-Type":"application/json"}});console.log("Request config:",{url:u,method:"POST",headers:e.defaults.headers,payload:s});const m=await e.post("api/manufacturers/submissions/",s);console.log("Response received:",m.status,m.data),y.create({type:"positive",message:"Application submitted successfully!",position:"top",timeout:3e3}),V.push("/sell-on-zimmart/success")}catch(s){if(console.error("Form submission error:",s),s.response?.status===400){const l=s.response.data;let u="Please check your form and try again.";if(l.detail)u=l.detail;else if(l.message)u=l.message;else if(typeof l=="object"){const e=Object.entries(l).map(([m,v])=>Array.isArray(v)?`${m}: ${v.join(", ")}`:`${m}: ${v}`).join("; ");e&&(u=e)}y.create({type:"negative",message:u,position:"top",timeout:5e3})}else y.create({type:"negative",message:s.response?.data?.detail||s.response?.data?.message||"Failed to submit application. Please try again later.",position:"top",timeout:5e3})}finally{b.value=!1}};return(s,l)=>{const u=z("router-link");return _(),k(C,{class:"flex flex-center bg-grey-1"},{default:r(()=>[o("div",E,[o("div",I,[o("div",T,[l[23]||(l[23]=o("div",{class:"text-center q-mb-lg"},[o("div",{class:"text-h5 text-weight-bold q-mb-xs"},"Sell on ProudlyZimmart"),o("div",{class:"text-grey-6"},"Join our marketplace and reach customers across Zimbabwe")],-1)),a(B,{class:"q-pa-lg shadow-2",flat:""},{default:r(()=>[a(A,{onSubmit:q,class:"q-gutter-y-md"},{default:r(()=>[l[16]||(l[16]=o("div",{class:"text-subtitle2 text-weight-bold q-mb-sm"},"Contact Person Information",-1)),a(c,{class:"q-mb-md"}),o("div",F,[o("div",$,[a(d,{modelValue:t.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.name=e),outlined:"",label:"Full Name *",placeholder:"Enter your full name",autocomplete:"name",rules:[e=>!!e||"Full name is required",e=>e.length>=2||"Name must be at least 2 characters"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"person"})]),_:1},8,["modelValue","rules","disable"])]),o("div",O,[a(d,{modelValue:t.value.email,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.email=e),outlined:"",label:"Email Address *",placeholder:"Enter your email",type:"email",name:"email",autocomplete:"email",rules:[e=>!!e||"Email is required",e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||"Please enter a valid email":!0],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"email"})]),_:1},8,["modelValue","rules","disable"])])]),a(d,{modelValue:t.value.phone,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.phone=e),outlined:"",label:"Phone Number *",placeholder:"+1234567890 or 1234567890",autocomplete:"tel",rules:[e=>!!e||"Phone number is required",e=>U(e)||"Please enter a valid phone number"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"phone"})]),_:1},8,["modelValue","rules","disable"]),l[17]||(l[17]=o("div",{class:"text-subtitle2 text-weight-bold q-mt-lg q-mb-sm"}," Business Information ",-1)),a(c,{class:"q-mb-md"}),a(d,{modelValue:t.value.businessName,"onUpdate:modelValue":l[3]||(l[3]=e=>t.value.businessName=e),outlined:"",label:"Business/Company Name *",placeholder:"Enter your business name",autocomplete:"organization",rules:[e=>!!e||"Business name is required",e=>e.length>=2||"Business name must be at least 2 characters"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"business"})]),_:1},8,["modelValue","rules","disable"]),a(d,{modelValue:t.value.shortDescription,"onUpdate:modelValue":l[4]||(l[4]=e=>t.value.shortDescription=e),outlined:"",label:"Short Description / Tagline",placeholder:"Brief tagline about your business (optional)",maxlength:"150",disable:i.value},{prepend:r(()=>[a(n,{name:"short_text"})]),hint:r(()=>[h(R(t.value.shortDescription.length)+"/150 characters ",1)]),_:1},8,["modelValue","disable"]),a(d,{modelValue:t.value.description,"onUpdate:modelValue":l[5]||(l[5]=e=>t.value.description=e),outlined:"",label:"Business Description *",placeholder:"Tell us about your business, products, and what makes you unique",type:"textarea",rows:3,autogrow:"",rules:[e=>!!e||"Business description is required",e=>e.length>=50||"Description must be at least 50 characters"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"description"})]),_:1},8,["modelValue","rules","disable"]),l[18]||(l[18]=o("div",{class:"text-subtitle2 text-weight-bold q-mt-lg q-mb-sm"}," Location Information ",-1)),a(c,{class:"q-mb-md"}),a(d,{modelValue:t.value.address,"onUpdate:modelValue":l[6]||(l[6]=e=>t.value.address=e),outlined:"",label:"Street Address *",placeholder:"Enter your business address",autocomplete:"street-address",rules:[e=>!!e||"Address is required"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"home"})]),_:1},8,["modelValue","rules","disable"]),o("div",j,[o("div",M,[a(d,{modelValue:t.value.city,"onUpdate:modelValue":l[7]||(l[7]=e=>t.value.city=e),outlined:"",label:"City *",placeholder:"Enter city",autocomplete:"address-level2",rules:[e=>!!e||"City is required"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"location_city"})]),_:1},8,["modelValue","rules","disable"])]),o("div",Z,[a(d,{modelValue:t.value.province,"onUpdate:modelValue":l[8]||(l[8]=e=>t.value.province=e),outlined:"",label:"Province/State *",placeholder:"Enter province or state",name:"province",autocomplete:"address-level1",rules:[e=>!!e||"Province/State is required"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"map"})]),_:1},8,["modelValue","rules","disable"])])]),a(d,{modelValue:t.value.country,"onUpdate:modelValue":l[9]||(l[9]=e=>t.value.country=e),outlined:"",label:"Country *",placeholder:"Enter your country",autocomplete:"country-name",rules:[e=>!!e||"Country is required"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"public"})]),_:1},8,["modelValue","rules","disable"]),l[19]||(l[19]=o("div",{class:"text-subtitle2 text-weight-bold q-mt-lg q-mb-sm"}," Online Presence (Optional) ",-1)),a(c,{class:"q-mb-md"}),a(d,{modelValue:t.value.website,"onUpdate:modelValue":l[10]||(l[10]=e=>t.value.website=e),outlined:"",label:"Website URL",placeholder:"https://www.example.com",type:"url",rules:[e=>!e||p(e)||"Please enter a valid URL"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"language"})]),_:1},8,["modelValue","rules","disable"]),o("div",W,[o("div",H,[a(d,{modelValue:t.value.facebookUrl,"onUpdate:modelValue":l[11]||(l[11]=e=>t.value.facebookUrl=e),outlined:"",label:"Facebook URL",placeholder:"https://facebook.com/yourpage",type:"url",rules:[e=>!e||p(e)||"Please enter a valid URL"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"facebook"})]),_:1},8,["modelValue","rules","disable"])]),o("div",J,[a(d,{modelValue:t.value.instagramUrl,"onUpdate:modelValue":l[12]||(l[12]=e=>t.value.instagramUrl=e),outlined:"",label:"Instagram URL",placeholder:"https://instagram.com/yourpage",type:"url",rules:[e=>!e||p(e)||"Please enter a valid URL"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"photo_camera"})]),_:1},8,["modelValue","rules","disable"])])]),o("div",K,[o("div",G,[a(d,{modelValue:t.value.twitterUrl,"onUpdate:modelValue":l[13]||(l[13]=e=>t.value.twitterUrl=e),outlined:"",label:"Twitter URL",placeholder:"https://twitter.com/yourhandle",type:"url",rules:[e=>!e||p(e)||"Please enter a valid URL"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"chat"})]),_:1},8,["modelValue","rules","disable"])]),o("div",X,[a(d,{modelValue:t.value.linkedinUrl,"onUpdate:modelValue":l[14]||(l[14]=e=>t.value.linkedinUrl=e),outlined:"",label:"LinkedIn URL",placeholder:"https://linkedin.com/company/yourcompany",type:"url",rules:[e=>!e||p(e)||"Please enter a valid URL"],"lazy-rules":"",disable:i.value},{prepend:r(()=>[a(n,{name:"work"})]),_:1},8,["modelValue","rules","disable"])])]),l[20]||(l[20]=o("div",{class:"text-subtitle2 text-weight-bold q-mt-lg q-mb-sm"}," Additional Information ",-1)),a(c,{class:"q-mb-md"}),a(d,{modelValue:t.value.additionalNotes,"onUpdate:modelValue":l[15]||(l[15]=e=>t.value.additionalNotes=e),outlined:"",label:"Additional Notes",placeholder:"Any additional information you'd like to share (optional)",type:"textarea",rows:"3",disable:i.value},{prepend:r(()=>[a(n,{name:"note"})]),_:1},8,["modelValue","disable"]),a(S,{type:"submit",color:"primary",class:"full-width q-mt-md",label:"Submit Application",icon:"send",loading:b.value,disable:i.value,size:"md","no-caps":""},null,8,["loading","disable"]),l[21]||(l[21]=o("div",{class:"text-caption text-grey-6 text-center q-mt-sm"}," By submitting this form, you agree to our Terms of Service and Privacy Policy ",-1))]),_:1})]),_:1}),o("div",Y,[a(u,{to:"/",class:L(["text-grey-7 text-no-underline",{"text-grey-5":i.value}])},{default:r(()=>[a(n,{name:"arrow_back",size:"16px"}),l[22]||(l[22]=h(" Back to home ",-1))]),_:1},8,["class"])])])])])]),_:1})}}},me=Q(ee,[["__scopeId","data-v-00ca2828"]]);export{me as default};
